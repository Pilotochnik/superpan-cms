# ü§ñ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥—ã–µ 3 –¥–Ω—è

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –∫–æ–ø–∏–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∫–∞–∂–¥—ã–µ 3 –¥–Ω—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Windows, Linux –∏ macOS.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
```bash
# –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
python setup_auto_backup.py
```

### 2. –†—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

#### Windows (–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á)
```bash
# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è Windows
python setup_windows_scheduler.py
```

#### Linux/Mac (Cron)
```bash
# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è Linux/Mac
python setup_cron.py
```

## üìã –ö–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –Ω—É–∂–Ω–∞ –ª–∏ —Ä–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è
python manage.py auto_backup --check-only

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π –¥–Ω–µ–π
python manage.py auto_backup --check-only --days 5
```

### –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏
```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
python manage.py auto_backup

# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ
python manage.py auto_backup --force

# –° –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞
python manage.py auto_backup --days 7
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–º–∏ –∫–æ–ø–∏—è–º–∏
```bash
# –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –∫–æ–ø–∏–∏
python manage.py backup_db list

# –û—á–∏—Å—Ç–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –∫–æ–ø–∏–∏
python manage.py backup_db cleanup --keep 10 --auto

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å
python manage.py backup_db verify --file backups/–∏–º—è_—Ñ–∞–π–ª–∞.sqlite3
```

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–æ–≤

### Windows - –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á

1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞:**
   ```bash
   python setup_windows_scheduler.py
   ```

2. **–†—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ "–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á"
   - –°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑–æ–≤—É—é –∑–∞–¥–∞—á—É
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∑–∞–ø—É—Å–∫ –∫–∞–∂–¥—ã–µ 3 –¥–Ω—è
   - –î–µ–π—Å—Ç–≤–∏–µ: `python manage.py auto_backup --days 3`
   - –ù–∞—á–∞–ª—å–Ω–∞—è –ø–∞–ø–∫–∞: –ø—É—Ç—å –∫ –ø—Ä–æ–µ–∫—Ç—É

3. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–µ–π:**
   ```cmd
   # –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–¥–∞—á
   schtasks /query /tn SuperPan_AutoBackup
   
   # –ó–∞–ø—É—Å–∫ –≤—Ä—É—á–Ω—É—é
   schtasks /run /tn SuperPan_AutoBackup
   
   # –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏
   schtasks /delete /tn SuperPan_AutoBackup /f
   ```

### Linux/Mac - Cron

1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞:**
   ```bash
   python setup_cron.py
   ```

2. **–†—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞:**
   ```bash
   # –û—Ç–∫—Ä—ã—Ç—å crontab
   crontab -e
   
   # –î–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–æ–∫—É (–∫–∞–∂–¥—ã–µ 3 –¥–Ω—è –≤ 00:00)
   0 0 */3 * * cd /path/to/project && python manage.py auto_backup --days 3 >> backup.log 2>&1
   ```

3. **Systemd (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ cron):**
   ```bash
   # –°–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞—Å—Ç systemd —Å–µ—Ä–≤–∏—Å
   python setup_cron.py
   
   # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–∞
   sudo cp superpan-backup.service /etc/systemd/system/
   sudo systemctl daemon-reload
   sudo systemctl enable superpan-backup.timer
   sudo systemctl start superpan-backup.timer
   ```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞
```bash
# –ö–∞–∂–¥—ã–µ 3 –¥–Ω—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
python manage.py auto_backup --days 3

# –ö–∞–∂–¥—É—é –Ω–µ–¥–µ–ª—é
python manage.py auto_backup --days 7

# –ö–∞–∂–¥—ã–π –¥–µ–Ω—å
python manage.py auto_backup --days 1
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ—á–∏—Å—Ç–∫–∏
```bash
# –û—Å—Ç–∞–≤–∏—Ç—å 5 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∫–æ–ø–∏–π
python manage.py backup_db cleanup --keep 5 --auto

# –û—Å—Ç–∞–≤–∏—Ç—å 20 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∫–æ–ø–∏–π
python manage.py backup_db cleanup --keep 20 --auto
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
```bash
# –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å
python manage.py auto_backup --check-only

# –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –∫–æ–ø–∏–π
python manage.py backup_db list

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
python manage.py auto_backup --force  # –ü–æ–∫–∞–∂–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
```

### –õ–æ–≥–∏
- **Windows:** –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á ‚Üí –ñ—É—Ä–Ω–∞–ª—ã
- **Linux/Mac:** `tail -f backup.log`
- **Systemd:** `journalctl -u superpan-backup`

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º–∞: –ó–∞–¥–∞—á–∞ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
python manage.py auto_backup --check-only

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Ä—É—á–Ω—É—é
python manage.py auto_backup --force

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞
```

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∏ –∫–æ–¥–∏—Ä–æ–≤–∫–∏ (Windows)
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è
set PYTHONIOENCODING=utf-8
python manage.py auto_backup
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–µ—Å—Ç–∞
```bash
# –û—á–∏—Å—Ç–∏—Ç–µ —Å—Ç–∞—Ä—ã–µ –∫–æ–ø–∏–∏
python manage.py backup_db cleanup --keep 5 --auto

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–º–µ—Ä –ø–∞–ø–∫–∏ backups
dir backups
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
backups/                          # –†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏
‚îú‚îÄ‚îÄ db_backup_20250911_191523_auto_3days.sqlite3
‚îú‚îÄ‚îÄ db_backup_20250911_191523_auto_3days.json
‚îî‚îÄ‚îÄ ...

accounts/management/commands/
‚îú‚îÄ‚îÄ auto_backup.py                # –ö–æ–º–∞–Ω–¥–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
‚îî‚îÄ‚îÄ backup_db.py                  # –ö–æ–º–∞–Ω–¥–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ–∑–µ—Ä–≤–Ω—ã–º–∏ –∫–æ–ø–∏—è–º–∏

setup_auto_backup.py              # –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
setup_windows_scheduler.py        # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è Windows
setup_cron.py                     # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è Linux/Mac
backup_manager.py                 # –û—Å–Ω–æ–≤–Ω–æ–π –º–µ–Ω–µ–¥–∂–µ—Ä
restore_db.py                     # –ë—ã—Å—Ç—Ä–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
```

## ‚úÖ –ß—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–æ

- ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏** —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ** –∫–∞–∂–¥—ã–µ 3 –¥–Ω—è
- ‚úÖ **–û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö** —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –∫–æ–ø–∏–π
- ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏** —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –∫–æ–ø–∏–π
- ‚úÖ **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**
- ‚úÖ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ Windows, Linux, macOS**
- ‚úÖ **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π**

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫—É** –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
2. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ª–æ–≥–∏** –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º
3. **–†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ** —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –∫–æ–ø–∏–π
4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** –æ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –∫–æ–ø–∏–π
5. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å–≤–æ–±–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ** –Ω–∞ –¥–∏—Å–∫–µ

## üîÑ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CI/CD

```yaml
# GitHub Actions –ø—Ä–∏–º–µ—Ä
- name: Auto Backup
  run: python manage.py auto_backup --days 3
  schedule: '0 0 */3 * *'  # –∫–∞–∂–¥—ã–µ 3 –¥–Ω—è
```

---

**–¢–µ–ø–µ—Ä—å –≤–∞—à–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞—â–∏—â–µ–Ω–∞! üõ°Ô∏è**
